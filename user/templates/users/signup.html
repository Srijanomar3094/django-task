<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">
    <div class="w-full max-w-2xl bg-white p-12 rounded-3xl shadow-xl border-t-4 border-[#504da6]">
        <h2 class="text-4xl font-bold text-[#504da6] text-center mb-8">Sign Up</h2>
        <form method="post" enctype="multipart/form-data" class="space-y-3" onsubmit="return validatePassword()">
            {% csrf_token %}
            <div class="grid grid-cols-2 gap-6">
                <div>
                    <label class="block text-xl font-semibold text-gray-700">Username</label>
                    <input type="text" name="username" class="w-full px-5 py-3 mt-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#504da6]" required>
                </div>
                <div>
                    <label class="block text-xl font-semibold text-gray-700">Email</label>
                    <input type="email" name="email" class="w-full px-5 py-3 mt-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#504da6]" required>
                </div>
                <div>
                    <label class="block text-xl font-semibold text-gray-700">First Name</label>
                    <input type="text" name="first_name" class="w-full px-5 py-3 mt-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#504da6]" required>
                </div>
                <div>
                    <label class="block text-xl font-semibold text-gray-700">Last Name</label>
                    <input type="text" name="last_name" class="w-full px-5 py-3 mt-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#504da6]" required>
                </div>
            </div>
            <div>
                <label class="block text-xl font-semibold text-gray-700">Profile Picture</label>
                <input type="file" name="profile_picture" class="w-full px-5 py-3 mt-2 border border-gray-300 rounded-xl">
            </div>
            <div class="grid grid-cols-2 gap-6">
                <div>
                    <label class="block text-xl font-semibold text-gray-700">Address</label>
                    <input type="text" name="address" class="w-full px-5 py-3 mt-2 border border-gray-300 rounded-xl" required>
                </div>
                <div>
                    <label class="block text-xl font-semibold text-gray-700">City</label>
                    <input type="text" name="city" class="w-full px-5 py-3 mt-2 border border-gray-300 rounded-xl" required>
                </div>
                <div>
                    <label class="block text-xl font-semibold text-gray-700">State</label>
                    <input type="text" name="state" class="w-full px-5 py-3 mt-2 border border-gray-300 rounded-xl" required>
                </div>
                <div>
                    <label class="block text-xl font-semibold text-gray-700">Pincode</label>
                    <input type="text" name="pincode" class="w-full px-5 py-3 mt-2 border border-gray-300 rounded-xl" required>
                </div>
            </div>
            <div>
                <label class="block text-xl font-semibold text-gray-700">Role</label>
                <select name="role" class="w-full px-5 py-3 mt-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#504da6]" required>
                    <option value="">Select Role</option>
                    {% for role in form.role.field.queryset %}
                        <option value="{{ role.id }}">{{ role }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="grid grid-cols-2 gap-6">
                <div>
                    <label class="block text-xl font-semibold text-gray-700">Password</label>
                    <input type="password" id="password1" name="password1" class="w-full px-5 py-3 mt-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#504da6]" required>
                </div>
                <div>
                    <label class="block text-xl font-semibold text-gray-700">Confirm Password</label>
                    <input type="password" id="password2" name="password2" class="w-full px-5 py-3 mt-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#504da6]" required>
                </div>
            </div>
            <p id="password-error" class="text-red-600 text-lg font-semibold hidden">Passwords do not match!</p>
            <button type="submit" class="w-full bg-[#504da6] text-white text-xl font-semibold px-5 py-4 rounded-xl shadow-lg hover:bg-[#3c397d] transition">Sign Up</button>
        </form>
    </div>

    <script>
        function validatePassword() {
            let password1 = document.getElementById("password1").value;
            let password2 = document.getElementById("password2").value;
            let errorText = document.getElementById("password-error");

            if (password1 !== password2) {
                errorText.classList.remove("hidden");
                return false;
            } else {
                errorText.classList.add("hidden");
                return true;
            }
        }
    </script>
</body>
</html>
